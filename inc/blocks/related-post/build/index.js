(()=>{"use strict";var e,t={500:()=>{const e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components,n=window.wp.data,o=window.wp.date,c=JSON.parse('{"u2":"create-block/related-post"}');(0,e.registerBlockType)(c.u2,{edit:function({attributes:e,setAttributes:c}){const{numberOfItems:s,Title:i,buttonText:d,displayDate:m,buttonURL:p,selectedCategory:u,displayThumbnail:g,displayExcerpt:E,SectionPadding:_}=e,{authorDetails:b,posts:v,categories:h}=(0,n.useSelect)((e=>{const t=e("core/editor").getCurrentPostAttribute("author"),l=t?e("core").getUser(t):"",a=s||10;return{authorDetails:l,posts:e("core").getEntityRecords("postType","blog",{author:t,per_page:a,_embed:!0,...u&&{"blog-category":u}}),categories:e("core").getEntityRecords("taxonomy","blog-category",{per_page:-1})||[]}}),[s,u]),w=(0,n.useSelect)((e=>{const t=s||3;return e("core").getEntityRecords("postType","blog",{per_page:t,orderby:"date",order:"desc",_embed:!0})||[]}));return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:(0,l.__)("Related Blog Post Settings","qrolic")},(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(r.TextControl,{label:(0,l.__)("Add Section Padding Class","qrolic"),value:_,onChange:e=>c({SectionPadding:e})})),(0,t.createElement)(r.PanelRow,null,h&&(0,t.createElement)(r.SelectControl,{label:(0,l.__)("Select Category","qrolic"),value:u,options:[{value:"",label:(0,l.__)("No category","qrolic")},...h.map((e=>({value:e.id.toString(),label:e.name})))],onChange:e=>c({selectedCategory:e})})),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(r.TextControl,{label:(0,l.__)("Number of Posts","qrolic"),value:s,onChange:e=>c({numberOfItems:e}),type:"number"})),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(r.TextControl,{label:(0,l.__)("Button URL","qrolic"),value:p,onChange:e=>c({buttonURL:e})})),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(r.ToggleControl,{label:(0,l.__)("Show Date","qrolic"),checked:m,onChange:()=>c({displayDate:!m})})),(0,t.createElement)(r.PanelRow,null,(0,t.createElement)(r.ToggleControl,{label:(0,l.__)("Display Excerpt","qrolic"),checked:E,onChange:()=>c({displayExcerpt:!E})})))),(0,t.createElement)("div",{...(0,a.useBlockProps)(),className:`related-service-blog ${_}`},(0,t.createElement)("div",{className:"container p-0"},(0,t.createElement)(a.RichText,{tagName:"h2",value:i,onChange:e=>{c({Title:e})},placeholder:(0,l.__)("Enter title...","qrolic")}),(0,t.createElement)("div",{className:"related-service-blog__inner"},(0,t.createElement)("div",{className:"row"},u?v&&v.map((e=>(0,t.createElement)("div",{key:e.id,className:"col-lg-6 col-md-6 col-sm-12 col-12 m-bottom"},(0,t.createElement)("div",{className:"related-service-blog__inner_box"},(0,t.createElement)("div",{className:"description"},(0,t.createElement)("h3",{className:"title"},(0,t.createElement)("a",{href:e.link},e.title.rendered?(0,t.createElement)(t.RawHTML,null,e.title.rendered):(0,l.__)("Default title","qrolic"))),m&&(0,t.createElement)("span",{className:"post-date",dateTime:(0,o.format)("c",e.date_gmt)},(0,o.dateI18n)((0,o.__experimentalGetSettings)().formats.date,e.date_gmt)),E&&e.excerpt?.rendered&&(0,t.createElement)("div",{className:"post-excerpt description-primary"},(0,t.createElement)(t.RawHTML,null,e.excerpt.rendered))))))):w&&w.length>0?w.map((e=>(0,t.createElement)("div",{key:e.id,className:"col-lg-6 col-md-6 col-sm-12 col-12 m-bottom"},(0,t.createElement)("div",{className:"related-service-blog__inner_box"},(0,t.createElement)("div",{className:"description"},(0,t.createElement)("h3",{className:"title"},(0,t.createElement)("a",{href:e.link},e.title.rendered?(0,t.createElement)(t.RawHTML,null,e.title.rendered):(0,l.__)("Default title","qrolic"))),m&&(0,t.createElement)("span",{className:"post-date",dateTime:(0,o.format)("c",e.date_gmt)},(0,o.dateI18n)((0,o.__experimentalGetSettings)().formats.date,e.date_gmt)),E&&e.excerpt?.rendered&&(0,t.createElement)("div",{className:"post-excerpt description-primary"},(0,t.createElement)(t.RawHTML,null,e.excerpt.rendered))))))):(0,t.createElement)("div",null,"No Posts")),(0,t.createElement)("div",{className:"related-service-blog__inner_button"},(0,t.createElement)("a",{className:"button-general"},(0,t.createElement)(a.RichText,{value:d,onChange:e=>{c({buttonText:e})},placeholder:(0,l.__)("Enter button text...","qrolic")})))))))}})}},l={};function a(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,l,r,n)=>{if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],r=e[d][1],n=e[d][2];for(var c=!0,s=0;s<l.length;s++)(!1&n||o>=n)&&Object.keys(a.O).every((e=>a.O[e](l[s])))?l.splice(s--,1):(c=!1,n<o&&(o=n));if(c){e.splice(d--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,r,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var r,n,o=l[0],c=l[1],s=l[2],i=0;if(o.some((t=>0!==e[t]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(s)var d=s(a)}for(t&&t(l);i<o.length;i++)n=o[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},l=self.webpackChunkrelated_post=self.webpackChunkrelated_post||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=a.O(void 0,[431],(()=>a(500)));r=a.O(r)})();